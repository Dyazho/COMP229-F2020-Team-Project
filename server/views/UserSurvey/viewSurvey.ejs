<%- include ../partials/header.ejs %>

<%- include ../partials/main_nav.ejs %>

<!-- /my-survey/view -->
<!-- View My survey Content -->
<main class="containter">
    <div class="row">
        <div class="offset-md-1 col-md-10">
            <h1><%= userSurvey.Title %></h1>

            <!-- Create Date and Expire Date-->
            <div>
                <h6><%= userSurvey.CreateDate %> / <%= userSurvey.ExpireDate %> </h6>
            </div>
            <div>
                <p><%= userSurvey.Questions %> </p>
                <p><%= (Object.keys(userSurvey.Questions).length) %> </p>

                <form>
                    <!-- user survey content-->
                    <%// for(let c = 0; c < (Object.keys(userSurvey.Questions).length); c++) {%>
                    <% for (const [key, value] of Object.entries(userSurvey.Questions)) {%>

                    <!-- user survey text field -->
                    <% if (key.includes("textQuestion")) {%>
                    <fieldset class="form-group">
                        <label for="<%= key %>"><%= value %></label>
                        <input type="text" class="form-control" id="textField<%= key %>" name="<%= key %>" readonly>
                    </fieldset>

                    <!-- user survey one choice field -->
                    <% } else if ( key.includes("ocQuestion")) {%>
                        <fieldset class="form-group">
                            <label for=""><%= value %></label>
                    <% } else if (key.includes("ocOption")) {%>
                        <% for (let i = 0; i < value.length; i++) {%>
                            <input type="radio" class="form-control" id="<%= value[i] %>"
                                name="<%= key %> " value="<%= value[i] %>" disabled>
                            <label for="<%= value[i] %>"><%= value[i] %> </label>
                            <br>
                        <% } %>
                    </fieldset>

                    <!-- user survey multiple choice field -->
                    <% } else if (key.includes("mcQuestion")) {%>
                        <fieldset class="form-group">
                            <label for="radioButtonField<%= key %>"><%= value %></label>
                    <% } else if (key.includes("mcOption")) {%>
                            <% for (let i = 0; i < value.length; i++) {%>
                                <input type="checkbox" class="form-control" id="<%= value[i] %>"
                                    name="<%= value[i] %> " value="<%= value[i] %>" disabled>
                                <label for="<%= value[i] %>"><%= value[i] %> </label>
                                <br>
                            <% } %>
                    <% } %> 
                    </fieldset>
                    <% } %>
                </form>

            </div>
        </div>
    </div>
</main>

<%- include ../partials/bottom_nav.ejs %>

<%- include ../partials/footer.ejs %>