<%- include ../partials/header.ejs %>

<%- include ../partials/main_nav.ejs %>

<!-- /my-survey/edit -->
<!-- Edit My survey Content -->
<main class="containter">
    <div class="row">
        <div class="offset-md-1 col-md-10">

            <div>
                <form method="POST" autocomplete="off">

                    <h1>
                        <input type="text" id="title" placeholder="<%= userSurvey.Title %>">
                    </h1>

                    <!-- Create Date and Expire Date-->
                    <div>
                        <h6><%= userSurvey.CreateDate %> / <%= userSurvey.ExpireDate %> </h6>
                    </div>

                    <!-- user survey content-->
                    <% for(let c = 0; c < (Object.keys(userSurvey.Questions).length); c++) {%>

                    <!-- user survey text field -->
                    <% if (userSurvey.Questions.Type === "text") {%>
                    <fieldset class="form-group">
                        <input type="text" class="form-control" name="textField<%= c %>"
                            placeholder="<%= userSurvey.Questions.Question %>">
                    </fieldset>

                    <!-- user survey one choice field -->
                    <% } else if (userSurvey.Questions.Type === "OC") {%>
                    <fieldset class="form-group">
                        <input type="text" class="form-control" name="radioButtonField<%= c %>"
                            placeholder="<%= userSurvey.Questions.Question %>">
                        <% for (let i = 0; i < userSurvey.Questions.Options.length; i++) {%>
                        <input type="radio" class="form-control" id="<%= userSurvey.Questions.Options[i] %>"
                            name="radioButtonField<%= c %>" value="<%= userSurvey.Questions.Options[i] %>" readonly>
                        <input type="text" id="rbtnOption<%= [i] %>" name="rbtnOption<%= [i] %>"
                            placeholder="<%= userSurvey.Questions.Options[i] %>">
                        <br>
                        <% } %>
                    </fieldset>

                    <!-- user survey multiple choice field -->
                    <% } else if (userSurvey.Questions.Type === "MC") {%>
                    <fieldset class="form-group">
                        <input type="text" class="form-control" name="checkBoxField<%= c %>"
                            placeholder="<%= userSurvey.Questions.Question %>">
                        <%  for (let i = 0; i < userSurvey.Questions.Options.length; i++) {%>
                        <input type="checkbox" class="form-control" id="<%= userSurvey.Questions.Options[i] %>"
                            name="<%= userSurvey.Questions.Options[i] %>" value="<%= userSurvey.Questions.Options[i] %>"
                            readonly>
                        <input type="text" id="chbxOption<%= [i] %>" name="chbxOption<%= [i] %>"
                            placeholder="<%= userSurvey.Questions.Options[i] %>">
                        <% } %>
                    </fieldset>
                    <% } %>
                    <% } %>

                    <button class="btn btn-outline-success" type="submit">
                        <i class="fas fa-edit"></i> Update</button>

                    <a href="/my-survey" class="btn btn-outline-warning">
                        <i class="fas fa-undo"></i> Cancel</a>

                    <a href="/my-survey/delete/<%= userSurvey._id %>" class="btn btn-outline-danger" id="deleteBtn">
                        <i class="fas fa-trash-alt"></i> Delete</a>
                </form>
            </div>
        </div>
    </div>
</main>

<%- include ../partials/bottom_nav.ejs %>

<%- include ../partials/footer.ejs %>